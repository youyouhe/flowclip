{"openapi":"3.1.0","info":{"title":"video slice tools API","description":"A comprehensive API for video processing and slicing","version":"1.0.0"},"paths":{"/api/v1/auth/register":{"post":{"tags":["auth"],"summary":"Register","operationId":"register_api_v1_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/login":{"post":{"tags":["auth"],"summary":"Login","operationId":"login_api_v1_auth_login_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_api_v1_auth_login_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/me":{"get":{"tags":["auth"],"summary":"Get Current User Info","operationId":"get_current_user_info_api_v1_auth_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/projects/":{"get":{"tags":["projects"],"summary":"Get Projects","description":"获取当前用户的所有项目（包含视频统计和筛选功能）","operationId":"get_projects_api_v1_projects__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"项目状态筛选","title":"Status"},"description":"项目状态筛选"},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"搜索项目名称或描述","title":"Search"},"description":"搜索项目名称或描述"},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"开始日期 (YYYY-MM-DD)","title":"Start Date"},"description":"开始日期 (YYYY-MM-DD)"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"结束日期 (YYYY-MM-DD)","title":"End Date"},"description":"结束日期 (YYYY-MM-DD)"},{"name":"min_video_count","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"最小视频数量","title":"Min Video Count"},"description":"最小视频数量"},{"name":"max_video_count","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"最大视频数量","title":"Max Video Count"},"description":"最大视频数量"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"页码","default":1,"title":"Page"},"description":"页码"},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"每页数量","default":10,"title":"Page Size"},"description":"每页数量"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectWithStats"},"title":"Response Get Projects Api V1 Projects  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["projects"],"summary":"Create Project","description":"创建新项目","operationId":"create_project_api_v1_projects__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/projects/{project_id}":{"get":{"tags":["projects"],"summary":"Get Project","description":"获取特定项目详情（包含视频统计）","operationId":"get_project_api_v1_projects__project_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectWithStats"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["projects"],"summary":"Update Project","description":"更新项目","operationId":"update_project_api_v1_projects__project_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["projects"],"summary":"Delete Project","description":"删除项目","operationId":"delete_project_api_v1_projects__project_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/projects/{project_id}/videos":{"get":{"tags":["projects"],"summary":"Get Project Videos","description":"获取项目内的所有视频","operationId":"get_project_videos_api_v1_projects__project_id__videos_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/VideoResponse"},"title":"Response Get Project Videos Api V1 Projects  Project Id  Videos Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/videos/active":{"get":{"tags":["videos"],"summary":"Get Active Videos","description":"获取当前用户所有非完成状态的视频","operationId":"get_active_videos_api_v1_videos_active_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/VideoResponse"},"type":"array","title":"Response Get Active Videos Api V1 Videos Active Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/videos/":{"get":{"tags":["videos"],"summary":"Get Videos","description":"获取当前用户的所有视频（支持筛选功能）","operationId":"get_videos_api_v1_videos__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"project_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"项目ID筛选","title":"Project Id"},"description":"项目ID筛选"},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"视频状态筛选","title":"Status"},"description":"视频状态筛选"},{"name":"srt_processed","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"SRT处理是否完成","title":"Srt Processed"},"description":"SRT处理是否完成"},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"搜索视频标题","title":"Search"},"description":"搜索视频标题"},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"开始日期 (YYYY-MM-DD)","title":"Start Date"},"description":"开始日期 (YYYY-MM-DD)"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"结束日期 (YYYY-MM-DD)","title":"End Date"},"description":"结束日期 (YYYY-MM-DD)"},{"name":"min_duration","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"最小时长（秒）","title":"Min Duration"},"description":"最小时长（秒）"},{"name":"max_duration","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"最大时长（秒）","title":"Max Duration"},"description":"最大时长（秒）"},{"name":"min_file_size","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"最小文件大小（字节）","title":"Min File Size"},"description":"最小文件大小（字节）"},{"name":"max_file_size","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"最大文件大小（字节）","title":"Max File Size"},"description":"最大文件大小（字节）"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"页码","default":1,"title":"Page"},"description":"页码"},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"每页数量","default":10,"title":"Page Size"},"description":"每页数量"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedVideoResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/videos/download":{"post":{"tags":["videos"],"summary":"Download Video","description":"下载YouTube视频","operationId":"download_video_api_v1_videos_download_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"quality","in":"query","required":false,"schema":{"type":"string","default":"best","title":"Quality"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_download_video_api_v1_videos_download_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VideoResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/videos/{video_id}":{"get":{"tags":["videos"],"summary":"Get Video","description":"获取特定视频详情","operationId":"get_video_api_v1_videos__video_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"video_id","in":"path","required":true,"schema":{"type":"integer","title":"Video Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VideoResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["videos"],"summary":"Delete Video","description":"删除视频及相关文件","operationId":"delete_video_api_v1_videos__video_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"video_id","in":"path","required":true,"schema":{"type":"integer","title":"Video Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["videos"],"summary":"Update Video","description":"更新视频信息","operationId":"update_video_api_v1_videos__video_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"video_id","in":"path","required":true,"schema":{"type":"integer","title":"Video Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VideoUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VideoResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/videos/{video_id}/download-url":{"get":{"tags":["videos"],"summary":"Get Video Download Url","description":"获取视频文件的预签名下载URL","operationId":"get_video_download_url_api_v1_videos__video_id__download_url_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"video_id","in":"path","required":true,"schema":{"type":"integer","title":"Video Id"}},{"name":"expiry","in":"query","required":false,"schema":{"type":"integer","default":3600,"title":"Expiry"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/videos/{video_id}/extract-audio":{"post":{"tags":["videos"],"summary":"Extract Audio Endpoint","description":"提取视频音频","operationId":"extract_audio_endpoint_api_v1_videos__video_id__extract_audio_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"video_id","in":"path","required":true,"schema":{"type":"integer","title":"Video Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/videos/{video_id}/generate-srt":{"post":{"tags":["videos"],"summary":"Generate Srt Endpoint","description":"生成SRT字幕文件","operationId":"generate_srt_endpoint_api_v1_videos__video_id__generate_srt_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"video_id","in":"path","required":true,"schema":{"type":"integer","title":"Video Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/videos/{video_id}/task-status/{task_id}":{"get":{"tags":["videos"],"summary":"Get Task Status","description":"获取任务状态","operationId":"get_task_status_api_v1_videos__video_id__task_status__task_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"video_id","in":"path","required":true,"schema":{"type":"integer","title":"Video Id"}},{"name":"task_id","in":"path","required":true,"schema":{"type":"string","title":"Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/videos/{video_id}/audio-download-url":{"get":{"tags":["videos"],"summary":"Get Audio Download Url","description":"获取音频文件的预签名下载URL","operationId":"get_audio_download_url_api_v1_videos__video_id__audio_download_url_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"video_id","in":"path","required":true,"schema":{"type":"integer","title":"Video Id"}},{"name":"expiry","in":"query","required":false,"schema":{"type":"integer","default":3600,"title":"Expiry"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/videos/{video_id}/srt-download-url":{"get":{"tags":["videos"],"summary":"Get Srt Download Url","description":"获取SRT字幕文件的预签名下载URL","operationId":"get_srt_download_url_api_v1_videos__video_id__srt_download_url_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"video_id","in":"path","required":true,"schema":{"type":"integer","title":"Video Id"}},{"name":"expiry","in":"query","required":false,"schema":{"type":"integer","default":3600,"title":"Expiry"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/videos/{video_id}/srt-download":{"get":{"tags":["videos"],"summary":"Download Srt Direct","description":"直接下载SRT文件，确保正确的UTF-8编码","operationId":"download_srt_direct_api_v1_videos__video_id__srt_download_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"video_id","in":"path","required":true,"schema":{"type":"integer","title":"Video Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/videos/{video_id}/srt-content":{"get":{"tags":["videos"],"summary":"Get Srt Content","description":"获取SRT字幕文件内容用于预览","operationId":"get_srt_content_api_v1_videos__video_id__srt_content_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"video_id","in":"path","required":true,"schema":{"type":"integer","title":"Video Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/videos/{video_id}/processing-status":{"get":{"tags":["videos"],"summary":"Get Video Processing Status","description":"获取视频的处理状态","operationId":"get_video_processing_status_api_v1_videos__video_id__processing_status_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"video_id","in":"path","required":true,"schema":{"type":"integer","title":"Video Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/videos/{video_id}/thumbnail-download-url":{"get":{"tags":["videos"],"summary":"Get Thumbnail Download Url","description":"获取缩略图的预签名下载URL","operationId":"get_thumbnail_download_url_api_v1_videos__video_id__thumbnail_download_url_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"video_id","in":"path","required":true,"schema":{"type":"integer","title":"Video Id"}},{"name":"expiry","in":"query","required":false,"schema":{"type":"integer","default":3600,"title":"Expiry"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/videos/{video_id}/video-download":{"get":{"tags":["videos"],"summary":"Download Video Direct","description":"直接下载视频文件，通过后端代理避免MinIO直链问题","operationId":"download_video_direct_api_v1_videos__video_id__video_download_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"video_id","in":"path","required":true,"schema":{"type":"integer","title":"Video Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/processing/logs":{"get":{"tags":["processing"],"summary":"Get Processing Logs","description":"获取处理任务日志列表","operationId":"get_processing_logs_api_v1_processing_logs_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"video_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"视频ID过滤","title":"Video Id"},"description":"视频ID过滤"},{"name":"task_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"任务ID过滤","title":"Task Id"},"description":"任务ID过滤"},{"name":"task_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"任务类型过滤","title":"Task Type"},"description":"任务类型过滤"},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"状态过滤","title":"Status"},"description":"状态过滤"},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"开始日期","title":"Start Date"},"description":"开始日期"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"结束日期","title":"End Date"},"description":"结束日期"},{"name":"level","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"日志级别过滤","default":"INFO","title":"Level"},"description":"日志级别过滤"},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"搜索关键词","title":"Search"},"description":"搜索关键词"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"页码","default":1,"title":"Page"},"description":"页码"},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"每页大小","default":50,"title":"Page Size"},"description":"每页大小"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Processing Logs Api V1 Processing Logs Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/processing/logs/task/{task_id}":{"get":{"tags":["processing"],"summary":"Get Task Logs","description":"获取特定任务的所有日志","operationId":"get_task_logs_api_v1_processing_logs_task__task_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"integer","title":"Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProcessingTaskLogResponse"},"title":"Response Get Task Logs Api V1 Processing Logs Task  Task Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["processing"],"summary":"Delete Task Logs","description":"删除任务的所有日志","operationId":"delete_task_logs_api_v1_processing_logs_task__task_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"integer","title":"Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/processing/logs/video/{video_id}":{"get":{"tags":["processing"],"summary":"Get Video Logs Summary","description":"获取视频的日志汇总","operationId":"get_video_logs_summary_api_v1_processing_logs_video__video_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"video_id","in":"path","required":true,"schema":{"type":"integer","title":"Video Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Video Logs Summary Api V1 Processing Logs Video  Video Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["processing"],"summary":"Delete Video Logs","description":"删除视频的所有日志","operationId":"delete_video_logs_api_v1_processing_logs_video__video_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"video_id","in":"path","required":true,"schema":{"type":"integer","title":"Video Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/processing/logs/{log_id}":{"delete":{"tags":["processing"],"summary":"Delete Log","description":"删除特定日志","operationId":"delete_log_api_v1_processing_logs__log_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"log_id","in":"path","required":true,"schema":{"type":"integer","title":"Log Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/processing/logs/statistics":{"get":{"tags":["processing"],"summary":"Get Logs Statistics","description":"获取日志统计信息","operationId":"get_logs_statistics_api_v1_processing_logs_statistics_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"video_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"视频ID过滤","title":"Video Id"},"description":"视频ID过滤"},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"开始日期","title":"Start Date"},"description":"开始日期"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"结束日期","title":"End Date"},"description":"结束日期"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Logs Statistics Api V1 Processing Logs Statistics Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/upload/youtube/{slice_id}":{"post":{"tags":["upload"],"summary":"Upload To Youtube","operationId":"upload_to_youtube_api_v1_upload_youtube__slice_id__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"slice_id","in":"path","required":true,"schema":{"type":"integer","title":"Slice Id"}},{"name":"title","in":"query","required":true,"schema":{"type":"string","title":"Title"}},{"name":"description","in":"query","required":true,"schema":{"type":"string","title":"Description"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_to_youtube_api_v1_upload_youtube__slice_id__post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/upload/youtube/auth-url":{"get":{"tags":["upload"],"summary":"Get Youtube Auth Url","operationId":"get_youtube_auth_url_api_v1_upload_youtube_auth_url_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/upload/youtube/callback":{"post":{"tags":["upload"],"summary":"Handle Youtube Callback","operationId":"handle_youtube_callback_api_v1_upload_youtube_callback_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"code","in":"query","required":true,"schema":{"type":"string","title":"Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/upload/status/{upload_id}":{"get":{"tags":["upload"],"summary":"Get Upload Status","operationId":"get_upload_status_api_v1_upload_status__upload_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"upload_id","in":"path","required":true,"schema":{"type":"string","title":"Upload Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/status/videos/{video_id}":{"get":{"tags":["status","status"],"summary":"Get Video Processing Status","description":"获取视频的完整处理状态","operationId":"get_video_processing_status_api_v1_status_videos__video_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"video_id","in":"path","required":true,"schema":{"type":"integer","title":"Video Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VideoProcessingStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/status/tasks/{task_id}":{"get":{"tags":["status","status"],"summary":"Get Processing Task","description":"获取处理任务详情","operationId":"get_processing_task_api_v1_status_tasks__task_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"integer","title":"Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProcessingTaskResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/status/tasks/{task_id}/logs":{"get":{"tags":["status","status"],"summary":"Get Task Logs","description":"获取任务状态变化日志","operationId":"get_task_logs_api_v1_status_tasks__task_id__logs_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"integer","title":"Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProcessingTaskLogResponse"},"title":"Response Get Task Logs Api V1 Status Tasks  Task Id  Logs Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/status/videos/{video_id}/tasks":{"get":{"tags":["status","status"],"summary":"Get Video Tasks","description":"获取视频的所有处理任务","operationId":"get_video_tasks_api_v1_status_videos__video_id__tasks_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"video_id","in":"path","required":true,"schema":{"type":"integer","title":"Video Id"}},{"name":"task_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Task Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProcessingTaskResponse"},"title":"Response Get Video Tasks Api V1 Status Videos  Video Id  Tasks Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/status/celery/{celery_task_id}":{"get":{"tags":["status","status"],"summary":"Get Celery Task Status","description":"获取Celery任务状态","operationId":"get_celery_task_status_api_v1_status_celery__celery_task_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"celery_task_id","in":"path","required":true,"schema":{"type":"string","title":"Celery Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/status/videos/{video_id}/reset":{"post":{"tags":["status","status"],"summary":"Reset Video Status","description":"重置视频处理状态","operationId":"reset_video_status_api_v1_status_videos__video_id__reset_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"video_id","in":"path","required":true,"schema":{"type":"integer","title":"Video Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/status/videos/{video_id}/status/summary":{"get":{"tags":["status","status"],"summary":"Get Video Status Summary","description":"获取视频状态摘要","operationId":"get_video_status_summary_api_v1_status_videos__video_id__status_summary_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"video_id","in":"path","required":true,"schema":{"type":"integer","title":"Video Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProcessingStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/status/dashboard":{"get":{"tags":["status","status"],"summary":"Get Dashboard Stats","description":"获取仪表盘统计数据","operationId":"get_dashboard_stats_api_v1_status_dashboard_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/status/videos/running":{"get":{"tags":["status","status"],"summary":"Get Running Video Ids","description":"获取所有正在运行的视频IDs","operationId":"get_running_video_ids_api_v1_status_videos_running_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"type":"integer"},"type":"array","title":"Response Get Running Video Ids Api V1 Status Videos Running Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/capcut/export-slice/{slice_id}":{"post":{"tags":["capcut","capcut"],"summary":"Export Slice To Capcut","description":"导出切片到CapCut (异步Celery任务)","operationId":"export_slice_to_capcut_api_v1_capcut_export_slice__slice_id__post","parameters":[{"name":"slice_id","in":"path","required":true,"schema":{"type":"integer","title":"Slice Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExportSliceRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/capcut/proxy-resource/{resource_path}":{"get":{"tags":["capcut","capcut"],"summary":"Proxy Minio Resource","description":"为CapCut服务器提供可访问的MinIO资源代理","operationId":"proxy_minio_resource_api_v1_capcut_proxy_resource__resource_path__get","parameters":[{"name":"resource_path","in":"path","required":true,"schema":{"type":"string","title":"Resource Path"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/capcut/status":{"get":{"tags":["capcut","capcut"],"summary":"Get Capcut Status","description":"获取CapCut服务状态","operationId":"get_capcut_status_api_v1_capcut_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/resources/tags":{"get":{"tags":["resources","resources"],"summary":"Get Resource Tags","description":"获取资源标签列表","operationId":"get_resource_tags_api_v1_resources_tags_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"tag_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(audio|video|image|general)$"},{"type":"null"}],"title":"Tag Type"}},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":true},"title":"Response Get Resource Tags Api V1 Resources Tags Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["resources","resources"],"summary":"Create Resource Tag","description":"创建资源标签","operationId":"create_resource_tag_api_v1_resources_tags_post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_create_resource_tag_api_v1_resources_tags_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Create Resource Tag Api V1 Resources Tags Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/resources/tags/{tag_id}":{"delete":{"tags":["resources","resources"],"summary":"Delete Resource Tag","description":"删除资源标签","operationId":"delete_resource_tag_api_v1_resources_tags__tag_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"tag_id","in":"path","required":true,"schema":{"type":"integer","title":"Tag Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/resources/":{"post":{"tags":["resources","resources"],"summary":"Create Resource","description":"创建资源","operationId":"create_resource_api_v1_resources__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResourceCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Resource"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["resources","resources"],"summary":"Get Resources","description":"获取资源列表","operationId":"get_resources_api_v1_resources__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"file_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(video|audio|image|all)$"},{"type":"null"}],"title":"File Type"}},{"name":"tag_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":1},{"type":"null"}],"title":"Tag Id"}},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search"}},{"name":"tags","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tags"}},{"name":"is_public","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Public"}},{"name":"created_by","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":1},{"type":"null"}],"title":"Created By"}},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResourceSearchResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/resources/{resource_id}":{"get":{"tags":["resources","resources"],"summary":"Get Resource","description":"获取特定资源","operationId":"get_resource_api_v1_resources__resource_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"resource_id","in":"path","required":true,"schema":{"type":"integer","title":"Resource Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Resource"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["resources","resources"],"summary":"Update Resource","description":"更新资源","operationId":"update_resource_api_v1_resources__resource_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"resource_id","in":"path","required":true,"schema":{"type":"integer","title":"Resource Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResourceUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Resource"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["resources","resources"],"summary":"Delete Resource","description":"删除资源","operationId":"delete_resource_api_v1_resources__resource_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"resource_id","in":"path","required":true,"schema":{"type":"integer","title":"Resource Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/resources/{resource_id}/activate":{"put":{"tags":["resources","resources"],"summary":"Toggle Resource Active Status","description":"切换资源的激活状态","operationId":"toggle_resource_active_status_api_v1_resources__resource_id__activate_put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"resource_id","in":"path","required":true,"schema":{"type":"integer","title":"Resource Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_toggle_resource_active_status_api_v1_resources__resource_id__activate_put"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Resource"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/resources/upload":{"post":{"tags":["resources","resources"],"summary":"Upload Resource","description":"上传资源文件","operationId":"upload_resource_api_v1_resources_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_resource_api_v1_resources_upload_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/resources/{resource_id}/download-url":{"get":{"tags":["resources","resources"],"summary":"Get Resource Download Url","description":"获取资源下载链接","operationId":"get_resource_download_url_api_v1_resources__resource_id__download_url_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"resource_id","in":"path","required":true,"schema":{"type":"integer","title":"Resource Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/resources/{resource_id}/view-url":{"get":{"tags":["resources","resources"],"summary":"Get Resource View Url","description":"获取资源查看链接","operationId":"get_resource_view_url_api_v1_resources__resource_id__view_url_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"resource_id","in":"path","required":true,"schema":{"type":"integer","title":"Resource Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/resources/thumbnail-url":{"get":{"tags":["resources","resources"],"summary":"Get Thumbnail Url","description":"根据缩略图路径生成预签名URL","operationId":"get_thumbnail_url_api_v1_resources_thumbnail_url_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"path","in":"query","required":true,"schema":{"type":"string","title":"Path"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/llm/chat":{"post":{"tags":["llm"],"summary":"Chat With Llm","description":"与LLM对话","operationId":"chat_with_llm_api_v1_llm_chat_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/llm/system-prompt":{"get":{"tags":["llm"],"summary":"Get Current System Prompt","description":"获取当前系统提示词","operationId":"get_current_system_prompt_api_v1_llm_system_prompt_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"post":{"tags":["llm"],"summary":"Update System Prompt","description":"更新系统提示词（仅用于当前会话）","operationId":"update_system_prompt_api_v1_llm_system_prompt_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SystemPromptRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SystemPromptResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/llm/models":{"get":{"tags":["llm"],"summary":"Get Available Models","description":"获取可用的模型列表","operationId":"get_available_models_api_v1_llm_models_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/video-slice/validate-slice-data":{"post":{"tags":["video-slice"],"summary":"Validate Slice Data","description":"验证切片数据","operationId":"validate_slice_data_api_v1_video_slice_validate_slice_data_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SliceValidationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SliceValidationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/video-slice/process-slices":{"post":{"tags":["video-slice"],"summary":"Process Slices","description":"处理视频切片","operationId":"process_slices_api_v1_video_slice_process_slices_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SliceProcessRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SliceProcessResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/video-slice/video-analyses/{video_id}":{"get":{"tags":["video-slice"],"summary":"Get Video Analyses","description":"获取视频的分析数据列表","operationId":"get_video_analyses_api_v1_video_slice_video_analyses__video_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"video_id","in":"path","required":true,"schema":{"type":"integer","title":"Video Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LLMAnalysis"},"title":"Response Get Video Analyses Api V1 Video Slice Video Analyses  Video Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/video-slice/video-slices/{video_id}":{"get":{"tags":["video-slice"],"summary":"Get Video Slices","description":"获取视频的切片列表","operationId":"get_video_slices_api_v1_video_slice_video_slices__video_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"video_id","in":"path","required":true,"schema":{"type":"integer","title":"Video Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/VideoSlice"},"title":"Response Get Video Slices Api V1 Video Slice Video Slices  Video Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/video-slice/slice-detail/{slice_id}":{"get":{"tags":["video-slice"],"summary":"Get Slice Detail","description":"获取切片详情","operationId":"get_slice_detail_api_v1_video_slice_slice_detail__slice_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"slice_id","in":"path","required":true,"schema":{"type":"integer","title":"Slice Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VideoSlice"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/video-slice/slice-download-url/{slice_id}":{"get":{"tags":["video-slice"],"summary":"Get Slice Download Url","description":"获取切片文件的下载URL","operationId":"get_slice_download_url_api_v1_video_slice_slice_download_url__slice_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"slice_id","in":"path","required":true,"schema":{"type":"integer","title":"Slice Id"}},{"name":"expiry","in":"query","required":false,"schema":{"type":"integer","default":3600,"title":"Expiry"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/video-slice/slice-srt-content/{slice_id}":{"get":{"tags":["video-slice"],"summary":"Get Slice Srt Content","description":"获取切片的SRT字幕内容","operationId":"get_slice_srt_content_api_v1_video_slice_slice_srt_content__slice_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"slice_id","in":"path","required":true,"schema":{"type":"integer","title":"Slice Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/video-slice/sub-slice-srt-content/{sub_slice_id}":{"get":{"tags":["video-slice"],"summary":"Get Sub Slice Srt Content","description":"获取子切片的SRT字幕内容","operationId":"get_sub_slice_srt_content_api_v1_video_slice_sub_slice_srt_content__sub_slice_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"sub_slice_id","in":"path","required":true,"schema":{"type":"integer","title":"Sub Slice Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/video-slice/slice-sub-slices/{slice_id}":{"get":{"tags":["video-slice"],"summary":"Get Slice Sub Slices","description":"获取主切片的子切片列表","operationId":"get_slice_sub_slices_api_v1_video_slice_slice_sub_slices__slice_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"slice_id","in":"path","required":true,"schema":{"type":"integer","title":"Slice Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/VideoSubSlice"},"title":"Response Get Slice Sub Slices Api V1 Video Slice Slice Sub Slices  Slice Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/video-slice/analysis/{analysis_id}":{"delete":{"tags":["video-slice"],"summary":"Delete Analysis","description":"删除分析数据","operationId":"delete_analysis_api_v1_video_slice_analysis__analysis_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"analysis_id","in":"path","required":true,"schema":{"type":"integer","title":"Analysis Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/video-slice/slice/{slice_id}":{"delete":{"tags":["video-slice"],"summary":"Delete Slice","description":"删除切片及其子切片和对应文件","operationId":"delete_slice_api_v1_video_slice_slice__slice_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"slice_id","in":"path","required":true,"schema":{"type":"integer","title":"Slice Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/video-slice/sub-slice-download-url/{sub_slice_id}":{"get":{"tags":["video-slice"],"summary":"Get Sub Slice Download Url","description":"获取子切片文件的下载URL","operationId":"get_sub_slice_download_url_api_v1_video_slice_sub_slice_download_url__sub_slice_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"sub_slice_id","in":"path","required":true,"schema":{"type":"integer","title":"Sub Slice Id"}},{"name":"expiry","in":"query","required":false,"schema":{"type":"integer","default":3600,"title":"Expiry"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/video-slice/sub-slice/{sub_slice_id}":{"delete":{"tags":["video-slice"],"summary":"Delete Sub Slice","description":"删除子切片及其文件","operationId":"delete_sub_slice_api_v1_video_slice_sub_slice__sub_slice_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"sub_slice_id","in":"path","required":true,"schema":{"type":"integer","title":"Sub Slice Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/asr/status":{"get":{"tags":["asr","asr"],"summary":"Get Asr Status","description":"获取ASR服务状态","operationId":"get_asr_status_api_v1_asr_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/system/system-config":{"get":{"tags":["system"],"summary":"Get System Configs","description":"获取所有系统配置项","operationId":"get_system_configs_api_v1_system_system_config_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ConfigResponse"},"type":"array","title":"Response Get System Configs Api V1 System System Config Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["system"],"summary":"Update System Config","description":"更新系统配置项","operationId":"update_system_config_api_v1_system_system_config_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfigItem"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfigItem"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/system/system-config/batch":{"post":{"tags":["system"],"summary":"Update System Configs","description":"批量更新系统配置项","operationId":"update_system_configs_api_v1_system_system_config_batch_post","requestBody":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ConfigItem"},"type":"array","title":"Configs"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/system/system-config/reload-configs":{"post":{"tags":["system"],"summary":"Reload System Configs","description":"触发所有Celery worker重新加载系统配置","operationId":"reload_system_configs_api_v1_system_system_config_reload_configs_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/system/system-config/service-status/{service_name}":{"get":{"tags":["system"],"summary":"Check Service Status","description":"检查外部服务状态","operationId":"check_service_status_api_v1_system_system_config_service_status__service_name__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"service_name","in":"path","required":true,"schema":{"type":"string","title":"Service Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServiceStatus"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/minio/minio-url":{"get":{"tags":["minio"],"summary":"Get Minio Resource Url","description":"获取MinIO资源的预签名URL（通用方法）","operationId":"get_minio_resource_url_api_v1_minio_minio_url_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"object_path","in":"query","required":true,"schema":{"type":"string","description":"MinIO中的对象路径","title":"Object Path"},"description":"MinIO中的对象路径"},{"name":"expiry","in":"query","required":false,"schema":{"type":"integer","description":"URL过期时间（秒）","default":3600,"title":"Expiry"},"description":"URL过期时间（秒）"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health Check","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"Body_create_resource_tag_api_v1_resources_tags_post":{"properties":{"name":{"type":"string","title":"Name"},"tag_type":{"type":"string","pattern":"^(audio|video|image|general)$","title":"Tag Type"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["name","tag_type"],"title":"Body_create_resource_tag_api_v1_resources_tags_post"},"Body_download_video_api_v1_videos_download_post":{"properties":{"url":{"type":"string","title":"Url"},"project_id":{"type":"integer","title":"Project Id"},"cookies_file":{"type":"string","format":"binary","title":"Cookies File"}},"type":"object","required":["url","project_id"],"title":"Body_download_video_api_v1_videos_download_post"},"Body_login_api_v1_auth_login_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"password"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_login_api_v1_auth_login_post"},"Body_toggle_resource_active_status_api_v1_resources__resource_id__activate_put":{"properties":{"is_active":{"type":"boolean","title":"Is Active"}},"type":"object","required":["is_active"],"title":"Body_toggle_resource_active_status_api_v1_resources__resource_id__activate_put"},"Body_upload_resource_api_v1_resources_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"is_public":{"type":"boolean","title":"Is Public","default":true},"tags":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tags"}},"type":"object","required":["file"],"title":"Body_upload_resource_api_v1_resources_upload_post"},"Body_upload_to_youtube_api_v1_upload_youtube__slice_id__post":{"properties":{"tags":{"items":{},"type":"array","title":"Tags"}},"type":"object","title":"Body_upload_to_youtube_api_v1_upload_youtube__slice_id__post"},"ChatRequest":{"properties":{"message":{"type":"string","title":"Message"},"video_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Video Id"},"system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt"},"use_srt_context":{"type":"boolean","title":"Use Srt Context","default":false}},"type":"object","required":["message"],"title":"ChatRequest","description":"聊天请求模型"},"ChatResponse":{"properties":{"response":{"type":"string","title":"Response"},"usage":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Usage"},"model":{"type":"string","title":"Model"},"video_context_used":{"type":"boolean","title":"Video Context Used","default":false}},"type":"object","required":["response","model"],"title":"ChatResponse","description":"聊天响应模型"},"ConfigItem":{"properties":{"key":{"type":"string","title":"Key"},"value":{"type":"string","title":"Value"},"description":{"type":"string","title":"Description","default":""},"category":{"type":"string","title":"Category","default":""}},"type":"object","required":["key","value"],"title":"ConfigItem"},"ConfigResponse":{"properties":{"key":{"type":"string","title":"Key"},"value":{"type":"string","title":"Value"},"description":{"type":"string","title":"Description","default":""},"category":{"type":"string","title":"Category","default":""},"default":{"type":"string","title":"Default","default":""}},"type":"object","required":["key","value"],"title":"ConfigResponse"},"ExportSliceRequest":{"properties":{"draft_folder":{"type":"string","title":"Draft Folder"}},"type":"object","required":["draft_folder"],"title":"ExportSliceRequest"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LLMAnalysis":{"properties":{"analysis_data":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Analysis Data"},"cover_title":{"type":"string","title":"Cover Title"},"status":{"type":"string","title":"Status","default":"pending"},"is_validated":{"type":"boolean","title":"Is Validated","default":false},"is_applied":{"type":"boolean","title":"Is Applied","default":false},"id":{"type":"integer","title":"Id"},"video_id":{"type":"integer","title":"Video Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"validated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Validated At"},"applied_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Applied At"}},"type":"object","required":["analysis_data","cover_title","id","video_id","created_at"],"title":"LLMAnalysis"},"PaginatedVideoResponse":{"properties":{"videos":{"items":{"$ref":"#/components/schemas/VideoResponse"},"type":"array","title":"Videos"},"pagination":{"additionalProperties":true,"type":"object","title":"Pagination"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["videos","pagination","total"],"title":"PaginatedVideoResponse"},"ProcessingStatusResponse":{"properties":{"video_id":{"type":"integer","title":"Video Id"},"overall_status":{"type":"string","title":"Overall Status"},"overall_progress":{"type":"number","title":"Overall Progress"},"current_stage":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Current Stage"},"download":{"additionalProperties":true,"type":"object","title":"Download"},"extract_audio":{"additionalProperties":true,"type":"object","title":"Extract Audio"},"split_audio":{"additionalProperties":true,"type":"object","title":"Split Audio"},"generate_srt":{"additionalProperties":true,"type":"object","title":"Generate Srt"},"error_count":{"type":"integer","title":"Error Count"},"last_error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Error"}},"type":"object","required":["video_id","overall_status","overall_progress","current_stage","download","extract_audio","split_audio","generate_srt","error_count","last_error"],"title":"ProcessingStatusResponse","description":"处理状态响应模型"},"ProcessingTaskLogResponse":{"properties":{"id":{"type":"integer","title":"Id"},"task_id":{"type":"integer","title":"Task Id"},"old_status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Old Status"},"new_status":{"type":"string","title":"New Status"},"message":{"type":"string","title":"Message"},"details":{"additionalProperties":true,"type":"object","title":"Details"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","task_id","old_status","new_status","message","details","created_at"],"title":"ProcessingTaskLogResponse","description":"处理任务日志响应模型"},"ProcessingTaskResponse":{"properties":{"id":{"type":"integer","title":"Id"},"video_id":{"type":"integer","title":"Video Id"},"task_type":{"type":"string","title":"Task Type"},"task_name":{"type":"string","title":"Task Name"},"celery_task_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Celery Task Id"},"status":{"type":"string","title":"Status"},"progress":{"type":"number","title":"Progress"},"stage":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Stage"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"},"started_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Started At"},"completed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Completed At"},"duration_seconds":{"type":"number","title":"Duration Seconds"},"retry_count":{"type":"integer","title":"Retry Count"},"max_retries":{"type":"integer","title":"Max Retries"},"input_data":{"additionalProperties":true,"type":"object","title":"Input Data"},"output_data":{"additionalProperties":true,"type":"object","title":"Output Data"}},"type":"object","required":["id","video_id","task_type","task_name","celery_task_id","status","progress","stage","message","error_message","started_at","completed_at","duration_seconds","retry_count","max_retries","input_data","output_data"],"title":"ProcessingTaskResponse","description":"处理任务响应模型"},"ProjectCreate":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["name"],"title":"ProjectCreate"},"ProjectResponse":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"id":{"type":"integer","title":"Id"},"user_id":{"type":"integer","title":"User Id"},"status":{"type":"string","title":"Status"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["name","id","user_id","status","created_at"],"title":"ProjectResponse"},"ProjectUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","title":"ProjectUpdate"},"ProjectWithStats":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"id":{"type":"integer","title":"Id"},"user_id":{"type":"integer","title":"User Id"},"status":{"type":"string","title":"Status"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"video_count":{"type":"integer","title":"Video Count"},"completed_videos":{"type":"integer","title":"Completed Videos"},"total_slices":{"type":"integer","title":"Total Slices"}},"type":"object","required":["name","id","user_id","status","created_at","video_count","completed_videos","total_slices"],"title":"ProjectWithStats"},"Resource":{"properties":{"filename":{"type":"string","maxLength":255,"title":"Filename"},"original_filename":{"type":"string","title":"Original Filename"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description"},"is_public":{"type":"boolean","title":"Is Public","default":true},"id":{"type":"integer","title":"Id"},"file_path":{"type":"string","title":"File Path"},"file_size":{"type":"number","title":"File Size"},"mime_type":{"type":"string","title":"Mime Type"},"file_type":{"type":"string","title":"File Type"},"duration":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Duration"},"width":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Width"},"height":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Height"},"download_count":{"type":"integer","title":"Download Count","default":0},"view_count":{"type":"integer","title":"View Count","default":0},"created_by":{"type":"integer","title":"Created By"},"is_active":{"type":"boolean","title":"Is Active","default":true},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"tags":{"items":{"$ref":"#/components/schemas/ResourceTag"},"type":"array","title":"Tags","default":[]}},"type":"object","required":["filename","original_filename","id","file_path","file_size","mime_type","file_type","created_by","created_at","updated_at"],"title":"Resource"},"ResourceCreate":{"properties":{"filename":{"type":"string","maxLength":255,"title":"Filename"},"original_filename":{"type":"string","maxLength":255,"title":"Original Filename"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description"},"is_public":{"type":"boolean","title":"Is Public","default":true},"file_path":{"type":"string","title":"File Path"},"file_size":{"type":"number","title":"File Size"},"mime_type":{"type":"string","title":"Mime Type"},"file_type":{"type":"string","pattern":"^(video|audio|image)$","title":"File Type"},"duration":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Duration"},"width":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Width"},"height":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Height"},"tag_ids":{"items":{"type":"integer"},"type":"array","title":"Tag Ids","default":[]}},"type":"object","required":["filename","original_filename","file_path","file_size","mime_type","file_type"],"title":"ResourceCreate"},"ResourceSearchResult":{"properties":{"resources":{"items":{"$ref":"#/components/schemas/Resource"},"type":"array","title":"Resources"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"page_size":{"type":"integer","title":"Page Size"},"total_pages":{"type":"integer","title":"Total Pages"}},"type":"object","required":["resources","total","page","page_size","total_pages"],"title":"ResourceSearchResult"},"ResourceTag":{"properties":{"name":{"type":"string","maxLength":100,"minLength":1,"title":"Name"},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description"},"tag_type":{"type":"string","pattern":"^(audio|video|image|general)$","title":"Tag Type"},"id":{"type":"integer","title":"Id"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["name","tag_type","id","is_active","created_at","updated_at"],"title":"ResourceTag"},"ResourceUpdate":{"properties":{"filename":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Filename"},"original_filename":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Original Filename"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description"},"is_public":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Public"},"tag_ids":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Tag Ids"}},"type":"object","title":"ResourceUpdate"},"ServiceStatus":{"properties":{"service":{"type":"string","title":"Service"},"status":{"type":"string","title":"Status"},"message":{"type":"string","title":"Message","default":""}},"type":"object","required":["service","status"],"title":"ServiceStatus"},"SliceProcessRequest":{"properties":{"analysis_id":{"type":"integer","title":"Analysis Id"},"slice_items":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Slice Items"},"process_srt":{"type":"boolean","title":"Process Srt","default":false}},"type":"object","required":["analysis_id","slice_items"],"title":"SliceProcessRequest","description":"切片处理请求"},"SliceProcessResponse":{"properties":{"message":{"type":"string","title":"Message"},"task_id":{"type":"string","title":"Task Id"},"total_slices":{"type":"integer","title":"Total Slices"},"processed_slices":{"type":"integer","title":"Processed Slices","default":0}},"type":"object","required":["message","task_id","total_slices"],"title":"SliceProcessResponse","description":"切片处理响应"},"SliceValidationRequest":{"properties":{"video_id":{"type":"integer","title":"Video Id"},"analysis_data":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Analysis Data"},"cover_title":{"type":"string","title":"Cover Title"}},"type":"object","required":["video_id","analysis_data","cover_title"],"title":"SliceValidationRequest","description":"切片验证请求"},"SliceValidationResponse":{"properties":{"is_valid":{"type":"boolean","title":"Is Valid"},"message":{"type":"string","title":"Message"},"analysis_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Analysis Id"},"errors":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Errors"}},"type":"object","required":["is_valid","message"],"title":"SliceValidationResponse","description":"切片验证响应"},"SystemPromptRequest":{"properties":{"system_prompt":{"type":"string","title":"System Prompt"}},"type":"object","required":["system_prompt"],"title":"SystemPromptRequest","description":"系统提示词请求模型"},"SystemPromptResponse":{"properties":{"message":{"type":"string","title":"Message"},"current_prompt":{"type":"string","title":"Current Prompt"}},"type":"object","required":["message","current_prompt"],"title":"SystemPromptResponse","description":"系统提示词响应模型"},"TaskStatusResponse":{"properties":{"task_id":{"type":"string","title":"Task Id"},"status":{"type":"string","title":"Status"},"progress":{"type":"number","title":"Progress"},"stage":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Stage"},"stage_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Stage Description"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"},"result":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Result"}},"type":"object","required":["task_id","status","progress","stage","stage_description","message","error","result"],"title":"TaskStatusResponse","description":"任务状态响应模型"},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type"}},"type":"object","required":["access_token","token_type"],"title":"Token"},"UserCreate":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"}},"type":"object","required":["email","username","password"],"title":"UserCreate"},"UserResponse":{"properties":{"id":{"type":"integer","title":"Id"},"email":{"type":"string","title":"Email"},"username":{"type":"string","title":"Username"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"avatar_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Avatar Url"},"is_active":{"type":"boolean","title":"Is Active"}},"type":"object","required":["id","email","username","is_active"],"title":"UserResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VideoProcessingStatusResponse":{"properties":{"video_id":{"type":"integer","title":"Video Id"},"title":{"type":"string","title":"Title"},"status":{"type":"string","title":"Status"},"processing_stage":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Processing Stage"},"processing_progress":{"type":"number","title":"Processing Progress"},"processing_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Processing Message"},"processing_error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Processing Error"},"processing_started_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Processing Started At"},"processing_completed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Processing Completed At"},"tasks":{"items":{"$ref":"#/components/schemas/ProcessingTaskResponse"},"type":"array","title":"Tasks"},"overall_status":{"additionalProperties":true,"type":"object","title":"Overall Status"}},"type":"object","required":["video_id","title","status","processing_stage","processing_progress","processing_message","processing_error","processing_started_at","processing_completed_at","tasks","overall_status"],"title":"VideoProcessingStatusResponse","description":"视频处理状态响应模型"},"VideoResponse":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"},"id":{"type":"integer","title":"Id"},"project_id":{"type":"integer","title":"Project Id"},"filename":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Filename"},"file_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Path"},"duration":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Duration"},"file_size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"File Size"},"thumbnail_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Thumbnail Url"},"status":{"type":"string","title":"Status"},"download_progress":{"type":"number","title":"Download Progress"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"project_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Project Name"}},"type":"object","required":["id","project_id","status","download_progress","created_at"],"title":"VideoResponse"},"VideoSlice":{"properties":{"cover_title":{"type":"string","title":"Cover Title"},"title":{"type":"string","title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags"},"start_time":{"type":"number","title":"Start Time"},"end_time":{"type":"number","title":"End Time"},"duration":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Duration"},"status":{"type":"string","title":"Status","default":"pending"},"type":{"type":"string","title":"Type","default":"fragment"},"progress":{"type":"number","title":"Progress","default":0.0},"id":{"type":"integer","title":"Id"},"video_id":{"type":"integer","title":"Video Id"},"llm_analysis_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Llm Analysis Id"},"original_filename":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Original Filename"},"sliced_filename":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sliced Filename"},"sliced_file_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sliced File Path"},"file_size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"File Size"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"processed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Processed At"},"audio_processing_status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Audio Processing Status"},"audio_progress":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Audio Progress"},"audio_task_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Audio Task Id"},"audio_error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Audio Error Message"},"audio_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Audio Url"},"srt_processing_status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Srt Processing Status"},"srt_progress":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Srt Progress"},"srt_task_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Srt Task Id"},"srt_error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Srt Error Message"},"srt_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Srt Url"},"capcut_status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Capcut Status"},"capcut_task_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Capcut Task Id"},"capcut_draft_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Capcut Draft Url"},"capcut_error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Capcut Error Message"}},"type":"object","required":["cover_title","title","start_time","end_time","id","video_id","created_at"],"title":"VideoSlice"},"VideoSubSlice":{"properties":{"cover_title":{"type":"string","title":"Cover Title"},"start_time":{"type":"number","title":"Start Time"},"end_time":{"type":"number","title":"End Time"},"duration":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Duration"},"status":{"type":"string","title":"Status","default":"pending"},"progress":{"type":"number","title":"Progress","default":0.0},"id":{"type":"integer","title":"Id"},"slice_id":{"type":"integer","title":"Slice Id"},"sliced_filename":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sliced Filename"},"sliced_file_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sliced File Path"},"file_size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"File Size"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"processed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Processed At"},"audio_processing_status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Audio Processing Status"},"audio_progress":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Audio Progress"},"audio_task_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Audio Task Id"},"audio_error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Audio Error Message"},"audio_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Audio Url"},"srt_processing_status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Srt Processing Status"},"srt_progress":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Srt Progress"},"srt_task_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Srt Task Id"},"srt_error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Srt Error Message"},"srt_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Srt Url"}},"type":"object","required":["cover_title","start_time","end_time","id","slice_id","created_at"],"title":"VideoSubSlice"},"VideoUpdate":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","title":"VideoUpdate"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"api/v1/auth/login"}}}}}}